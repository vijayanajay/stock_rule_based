[22:45:40] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at data\test_kiss_signal.db              
           INFO     Successfully created database at data\test_kiss_signal.db  
[1/4] Configuration loaded.
[2/4] Refreshing market data...
           INFO     Loaded 1 symbols from universe                             
           INFO     Refreshing 1 symbols                                       
[22:45:43] INFO     Successfully refreshed 1/1 symbols                         
[3/4] Analyzing strategies for each ticker...
           INFO     Loaded 1 symbols from universe                             
[4/4] Analysis complete. Results summary:
                      Top Strategies by Edge Score                       
┌──────────┬─────────────────────┬────────────┬───────┬────────┬────────┐
│ Symbol   │ Rule Stack          │ Edge Score │ Win % │ Sharpe │ Trades │
├──────────┼─────────────────────┼────────────┼───────┼────────┼────────┤
│ RELIANCE │ sma_10_20_crossover │      0.750 │ 65.0% │   1.20 │     15 │
└──────────┴─────────────────────┴────────────┴───────┴────────┴────────┘

* Analysis complete. Found 1 valid strategies across 1 symbols.
[5/5] Saving results...
           INFO     Saving 1 strategies to the database.                       
           INFO     Successfully saved 1 strategies                            
           INFO     Saved 1 strategies to the database.                        
[5/5] Generating report...
           INFO     Fetched 0 open positions.                                  
           WARNING  No strategies found for timestamp                          
                    2025-07-06T22:45:43.090587 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: test_reports\signals_2025-07-06.md       
* Report generated: test_reports\signals_2025-07-06.md
           INFO     full_backtest completed in 2.29s                           
           INFO     Database connection closed.                                
[22:45:43] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at data\test_kiss_signal.db              
           INFO     Successfully created database at data\test_kiss_signal.db  
[1/4] Configuration loaded.
[2/4] Refreshing market data...
           INFO     Loaded 1 symbols from universe                             
           INFO     Refreshing 1 symbols                                       
           INFO     Successfully refreshed 1/1 symbols                         
[3/4] Analyzing strategies for each ticker...
           INFO     Loaded 1 symbols from universe                             
[4/4] Analysis complete. Results summary:
                      Top Strategies by Edge Score                       
┌──────────┬─────────────────────┬────────────┬───────┬────────┬────────┐
│ Symbol   │ Rule Stack          │ Edge Score │ Win % │ Sharpe │ Trades │
├──────────┼─────────────────────┼────────────┼───────┼────────┼────────┤
│ RELIANCE │ sma_10_20_crossover │      0.750 │ 65.0% │   1.20 │     15 │
└──────────┴─────────────────────┴────────────┴───────┴────────┴────────┘

* Analysis complete. Found 1 valid strategies across 1 symbols.
[5/5] Saving results...
           INFO     Saving 1 strategies to the database.                       
           ERROR    Batch save failed: disk I/O error                          
⚠️  Failed to save results to database.
           WARNING  Persistence failed but continuing execution.               
[5/5] Generating report...
           INFO     Fetched 0 open positions.                                  
           WARNING  No strategies found for timestamp                          
                    2025-07-06T22:45:43.272829 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: test_reports\signals_2025-07-06.md       
* Report generated: test_reports\signals_2025-07-06.md
           INFO     full_backtest completed in 0.11s                           
           INFO     Database connection closed.                                
[22:45:43] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at data\test_kiss_signal.db              
           INFO     Successfully created database at data\test_kiss_signal.db  
[1/4] Configuration loaded.
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
           INFO     full_backtest completed in 0.01s                           
Error: Backtest failed!
           INFO     Database connection closed.                                
[22:45:43] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at data\test_kiss_signal.db              
           INFO     Successfully created database at data\test_kiss_signal.db  
[1/4] Configuration loaded.
[2/4] Refreshing market data...
           INFO     Refreshing 1 symbols                                       
           INFO     Successfully refreshed 1/1 symbols                         
[3/4] Analyzing strategies for each ticker...
           INFO     full_backtest completed in 0.06s                           
Error: Universe file not found
           INFO     Database connection closed.                                
[22:45:43] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at data\test_kiss_signal.db              
           DEBUG    Enabled WAL mode for concurrent access                     
           DEBUG    Created strategies table                                   
           DEBUG    Created positions table                                    
           DEBUG    Created index on strategies table                          
           DEBUG    Created index on positions table                           
           INFO     Successfully created database at data\test_kiss_signal.db  
[1/4] Configuration loaded.
           INFO     Refreshing market data                                     
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
           INFO     full_backtest completed in 0.01s                           
An unexpected error occurred: Generic backtest error
┌───────────────────── Traceback (most recent call last) ─────────────────────┐
│ D:\Code\stock_rule_based\src\kiss_signal\cli.py:277 in run                  │
│                                                                             │
│   274 │   │   │                                                             │
│   275 │   │   │   console.print("[3/4] Analyzing strategies for each ticker │
│   276 │   │   │   symbols = data.load_universe(app_config.universe_path)    │
│ > 277 │   │   │   all_results = _run_backtests(app_config, rules_config, sy │
│   278 │   │   │                                                             │
│   279 │   │   │   console.print("[4/4] Analysis complete. Results summary:" │
│   280 │   │   │   run_timestamp = datetime.now().isoformat()                │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1139 in __call__                                                            │
│                                                                             │
│   1136 │   │   # in the signature                                           │
│   1137 │   │   self._mock_check_sig(*args, **kwargs)                        │
│   1138 │   │   self._increment_mock_call(*args, **kwargs)                   │
│ > 1139 │   │   return self._mock_call(*args, **kwargs)                      │
│   1140 │                                                                    │
│   1141 │                                                                    │
│   1142 │   def _mock_call(self, /, *args, **kwargs):                        │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1143 in _mock_call                                                          │
│                                                                             │
│   1140 │                                                                    │
│   1141 │                                                                    │
│   1142 │   def _mock_call(self, /, *args, **kwargs):                        │
│ > 1143 │   │   return self._execute_mock_call(*args, **kwargs)              │
│   1144 │                                                                    │
│   1145 │   def _increment_mock_call(self, /, *args, **kwargs):              │
│   1146 │   │   self.called = True                                           │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1198 in _execute_mock_call                                                  │
│                                                                             │
│   1195 │   │   effect = self.side_effect                                    │
│   1196 │   │   if effect is not None:                                       │
│   1197 │   │   │   if _is_exception(effect):                                │
│ > 1198 │   │   │   │   raise effect                                         │
│   1199 │   │   │   elif not _callable(effect):                              │
│   1200 │   │   │   │   result = next(effect)                                │
│   1201 │   │   │   │   if _is_exception(result):                            │
└─────────────────────────────────────────────────────────────────────────────┘
Exception: Generic backtest error
[22:45:44] INFO     Database connection closed.                                
[22:45:44] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at data\test_kiss_signal.db              
           INFO     Successfully created database at data\test_kiss_signal.db  
[1/4] Configuration loaded.
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
[4/4] Analysis complete. Results summary:
No valid strategies found. Check data quality and rule configurations.
[5/5] Generating report...
           INFO     Fetched 0 open positions.                                  
           WARNING  No strategies found for timestamp                          
                    2025-07-06T22:45:44.717973 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           ERROR    Failed to generate report: Disk full                       
                    Traceback (most recent call last):                         
                      File                                                     
                    "D:\Code\stock_rule_based\src\kiss_signal\reporter.py",    
                    line 333, in generate_daily_report                         
                        report_file.write_text(report_content,                 
                    encoding='utf-8')                                          
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1139, in __call__                  
                        return self._mock_call(*args, **kwargs)                
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1143, in _mock_call                
                        return self._execute_mock_call(*args, **kwargs)        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^        
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1198, in _execute_mock_call        
                        raise effect                                           
                    OSError: Disk full                                         
(WARN) Report generation failed
           INFO     full_backtest completed in 0.02s                           
           INFO     Database connection closed.                                
           ERROR    Log save error: Disk full                                  
                    Traceback (most recent call last):                         
                      File "D:\Code\stock_rule_based\src\kiss_signal\cli.py",  
                    line 306, in run                                           
                        log_path.write_text(console.export_text(clear=False),  
                    encoding="utf-8")                                          
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1139, in __call__                  
                        return self._mock_call(*args, **kwargs)                
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1143, in _mock_call                
                        return self._execute_mock_call(*args, **kwargs)        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^        
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1198, in _execute_mock_call        
                        raise effect                                           
                      File                                                     
                    "D:\Code\stock_rule_based\src\kiss_signal\reporter.py",    
                    line 333, in generate_daily_report                         
                        report_file.write_text(report_content,                 
                    encoding='utf-8')                                          
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1139, in __call__                  
                        return self._mock_call(*args, **kwargs)                
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1143, in _mock_call                
                        return self._execute_mock_call(*args, **kwargs)        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^        
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1198, in _execute_mock_call        
                        raise effect                                           
                    OSError: Disk full                                         
[22:45:44] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
[2/4] Refreshing market data...
           INFO     Loaded 1 symbols from universe                             
           INFO     Refreshing 1 symbols                                       
           INFO     Successfully refreshed 1/1 symbols                         
[3/4] Analyzing strategies for each ticker...
           INFO     Loaded 1 symbols from universe                             
[4/4] Analysis complete. Results summary:
                  Top Strategies by Edge Score                  
┌──────────┬────────────┬────────────┬───────┬────────┬────────┐
│ Symbol   │ Rule Stack │ Edge Score │ Win % │ Sharpe │ Trades │
├──────────┼────────────┼────────────┼───────┼────────┼────────┤
│ RELIANCE │ sma_test   │      0.100 │ 10.0% │   0.10 │      1 │
└──────────┴────────────┴────────────┴───────┴────────┴────────┘

* Analysis complete. Found 1 valid strategies across 1 symbols.
[5/5] Saving results...
           INFO     Saved 1 strategies to the database.                        
[5/5] Generating report...
(WARN) Report generation failed
           INFO     full_backtest completed in 0.09s                           
           INFO     Database connection closed.                                
           INFO     Creating database at                                       
                    C:\Users\user\AppData\Local\Temp\tmpinlg5__m\test.db       
[22:45:45] INFO     Successfully created database at                           
                    C:\Users\user\AppData\Local\Temp\tmpinlg5__m\test.db       
[22:45:45] INFO     === KISS Signal CLI Run Started ===                        
Analyzing historical rule performance...
✅ Rule performance analysis saved to: 
C:\Users\user\AppData\Local\Temp\tmpinlg5__m\analysis.md
[22:45:45] INFO     === KISS Signal CLI Run Started ===                        
Analyzing historical rule performance...
Error: Database file not found at 
C:\Users\user\AppData\Local\Temp\tmp8zzjrz5h\nonexistent.db
           INFO     Creating database at                                       
                    C:\Users\user\AppData\Local\Temp\tmpcgjluj8o\test.db       
           INFO     Successfully created database at                           
                    C:\Users\user\AppData\Local\Temp\tmpcgjluj8o\test.db       
[22:45:45] INFO     === KISS Signal CLI Run Started ===                        
Analyzing historical rule performance...
No historical strategies found in the database to analyze.
           INFO     Creating database at                                       
                    C:\Users\user\AppData\Local\Temp\tmpe8e6k5rx\test.db       
           INFO     Successfully created database at                           
                    C:\Users\user\AppData\Local\Temp\tmpe8e6k5rx\test.db       
[22:45:45] INFO     === KISS Signal CLI Run Started ===                        
Analyzing historical rule performance...
An unexpected error occurred during analysis: Analysis boom!
┌───────────────────── Traceback (most recent call last) ─────────────────────┐
│ D:\Code\stock_rule_based\src\kiss_signal\cli.py:333 in analyze_rules        │
│                                                                             │
│   330 │   │   raise typer.Exit(1)                                           │
│   331 │                                                                     │
│   332 │   try:                                                              │
│ > 333 │   │   rule_performance = reporter.analyze_rule_performance(db_path) │
│   334 │   │   if not rule_performance:                                      │
│   335 │   │   │   console.print("[yellow]No historical strategies found in  │
│   336 │   │   │   return                                                    │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1139 in __call__                                                            │
│                                                                             │
│   1136 │   │   # in the signature                                           │
│   1137 │   │   self._mock_check_sig(*args, **kwargs)                        │
│   1138 │   │   self._increment_mock_call(*args, **kwargs)                   │
│ > 1139 │   │   return self._mock_call(*args, **kwargs)                      │
│   1140 │                                                                    │
│   1141 │                                                                    │
│   1142 │   def _mock_call(self, /, *args, **kwargs):                        │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1143 in _mock_call                                                          │
│                                                                             │
│   1140 │                                                                    │
│   1141 │                                                                    │
│   1142 │   def _mock_call(self, /, *args, **kwargs):                        │
│ > 1143 │   │   return self._execute_mock_call(*args, **kwargs)              │
│   1144 │                                                                    │
│   1145 │   def _increment_mock_call(self, /, *args, **kwargs):              │
│   1146 │   │   self.called = True                                           │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1198 in _execute_mock_call                                                  │
│                                                                             │
│   1195 │   │   effect = self.side_effect                                    │
│   1196 │   │   if effect is not None:                                       │
│   1197 │   │   │   if _is_exception(effect):                                │
│ > 1198 │   │   │   │   raise effect                                         │
│   1199 │   │   │   elif not _callable(effect):                              │
│   1200 │   │   │   │   result = next(effect)                                │
│   1201 │   │   │   │   if _is_exception(result):                            │
└─────────────────────────────────────────────────────────────────────────────┘
Exception: Analysis boom!
[22:45:46] INFO     === KISS Signal CLI Run Started ===                        
Analyzing historical rule performance...
An unexpected error occurred during analysis: Analysis boom!
┌───────────────────── Traceback (most recent call last) ─────────────────────┐
│ D:\Code\stock_rule_based\src\kiss_signal\cli.py:333 in analyze_rules        │
│                                                                             │
│   330 │   │   raise typer.Exit(1)                                           │
│   331 │                                                                     │
│   332 │   try:                                                              │
│ > 333 │   │   rule_performance = reporter.analyze_rule_performance(db_path) │
│   334 │   │   if not rule_performance:                                      │
│   335 │   │   │   console.print("[yellow]No historical strategies found in  │
│   336 │   │   │   return                                                    │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1139 in __call__                                                            │
│                                                                             │
│   1136 │   │   # in the signature                                           │
│   1137 │   │   self._mock_check_sig(*args, **kwargs)                        │
│   1138 │   │   self._increment_mock_call(*args, **kwargs)                   │
│ > 1139 │   │   return self._mock_call(*args, **kwargs)                      │
│   1140 │                                                                    │
│   1141 │                                                                    │
│   1142 │   def _mock_call(self, /, *args, **kwargs):                        │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1143 in _mock_call                                                          │
│                                                                             │
│   1140 │                                                                    │
│   1141 │                                                                    │
│   1142 │   def _mock_call(self, /, *args, **kwargs):                        │
│ > 1143 │   │   return self._execute_mock_call(*args, **kwargs)              │
│   1144 │                                                                    │
│   1145 │   def _increment_mock_call(self, /, *args, **kwargs):              │
│   1146 │   │   self.called = True                                           │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1198 in _execute_mock_call                                                  │
│                                                                             │
│   1195 │   │   effect = self.side_effect                                    │
│   1196 │   │   if effect is not None:                                       │
│   1197 │   │   │   if _is_exception(effect):                                │
│ > 1198 │   │   │   │   raise effect                                         │
│   1199 │   │   │   elif not _callable(effect):                              │
│   1200 │   │   │   │   result = next(effect)                                │
│   1201 │   │   │   │   if _is_exception(result):                            │
│                                                                             │
│ D:\Code\stock_rule_based\src\kiss_signal\cli.py:333 in analyze_rules        │
│                                                                             │
│   330 │   │   raise typer.Exit(1)                                           │
│   331 │                                                                     │
│   332 │   try:                                                              │
│ > 333 │   │   rule_performance = reporter.analyze_rule_performance(db_path) │
│   334 │   │   if not rule_performance:                                      │
│   335 │   │   │   console.print("[yellow]No historical strategies found in  │
│   336 │   │   │   return                                                    │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1139 in __call__                                                            │
│                                                                             │
│   1136 │   │   # in the signature                                           │
│   1137 │   │   self._mock_check_sig(*args, **kwargs)                        │
│   1138 │   │   self._increment_mock_call(*args, **kwargs)                   │
│ > 1139 │   │   return self._mock_call(*args, **kwargs)                      │
│   1140 │                                                                    │
│   1141 │                                                                    │
│   1142 │   def _mock_call(self, /, *args, **kwargs):                        │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1143 in _mock_call                                                          │
│                                                                             │
│   1140 │                                                                    │
│   1141 │                                                                    │
│   1142 │   def _mock_call(self, /, *args, **kwargs):                        │
│ > 1143 │   │   return self._execute_mock_call(*args, **kwargs)              │
│   1144 │                                                                    │
│   1145 │   def _increment_mock_call(self, /, *args, **kwargs):              │
│   1146 │   │   self.called = True                                           │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1198 in _execute_mock_call                                                  │
│                                                                             │
│   1195 │   │   effect = self.side_effect                                    │
│   1196 │   │   if effect is not None:                                       │
│   1197 │   │   │   if _is_exception(effect):                                │
│ > 1198 │   │   │   │   raise effect                                         │
│   1199 │   │   │   elif not _callable(effect):                              │
│   1200 │   │   │   │   result = next(effect)                                │
│   1201 │   │   │   │   if _is_exception(result):                            │
└─────────────────────────────────────────────────────────────────────────────┘
Exception: Analysis boom!
[22:45:47] INFO     Creating database at                                       
                    C:\Users\user\AppData\Local\Temp\tmp_tcp156k\test.db       
           DEBUG    Enabled WAL mode for concurrent access                     
           DEBUG    Created strategies table                                   
           DEBUG    Created positions table                                    
           DEBUG    Created index on strategies table                          
           DEBUG    Created index on positions table                           
           INFO     Successfully created database at                           
                    C:\Users\user\AppData\Local\Temp\tmp_tcp156k\test.db       
[22:45:47] INFO     === KISS Signal CLI Run Started ===                        
Analyzing historical strategy performance...
✅ Strategy performance report saved to: strategy_performance_report.md
           INFO     Creating database at                                       
                    C:\Users\user\AppData\Local\Temp\tmpt8rezea6\test.db       
           INFO     Successfully created database at                           
                    C:\Users\user\AppData\Local\Temp\tmpt8rezea6\test.db       
[22:45:47] INFO     === KISS Signal CLI Run Started ===                        
Analyzing historical strategy performance...
✅ Strategy performance report saved to: my_strategy_report.md
[22:45:47] INFO     === KISS Signal CLI Run Started ===                        
Analyzing historical strategy performance...
Error: Database file not found at 
C:\Users\user\AppData\Local\Temp\tmpvvfp24wh\nonexistent.db
[22:45:48] INFO     === KISS Signal CLI Run Started ===                        
Analyzing historical strategy performance...
No historical strategies found to analyze.
           INFO     Creating database at                                       
                    C:\Users\user\AppData\Local\Temp\tmpjvs0_3yg\test.db       
           INFO     Successfully created database at                           
                    C:\Users\user\AppData\Local\Temp\tmpjvs0_3yg\test.db       
[22:45:48] INFO     === KISS Signal CLI Run Started ===                        
Analyzing historical strategy performance...
An unexpected error occurred during analysis: Analysis boom!
[22:45:48] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
[4/4] Analysis complete. Results summary:
No valid strategies found. Check data quality and rule configurations.
[5/5] Generating report...
           ERROR    Failed to fetch open positions: no such table: positions   
           ERROR    Database error fetching strategies: no such table:         
                    strategies                                                 
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: test_reports\signals_2025-07-06.md       
* Report generated: test_reports\signals_2025-07-06.md
           INFO     full_backtest completed in 0.02s                           
           INFO     Database connection closed.                                
[22:45:48] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at data\test_kiss_signal.db              
           DEBUG    Enabled WAL mode for concurrent access                     
           DEBUG    Created strategies table                                   
           DEBUG    Created positions table                                    
           DEBUG    Created index on strategies table                          
           DEBUG    Created index on positions table                           
           INFO     Successfully created database at data\test_kiss_signal.db  
[1/4] Configuration loaded.
           INFO     Refreshing market data                                     
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
[4/4] Analysis complete. Results summary:
No valid strategies found. Check data quality and rule configurations.
[5/5] Generating report...
           INFO     Fetched 0 open positions.                                  
           WARNING  No strategies found for timestamp                          
                    2025-07-06T22:45:48.250008 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: test_reports\signals_2025-07-06.md       
* Report generated: test_reports\signals_2025-07-06.md
           INFO     full_backtest completed in 0.02s                           

Performance Summary:
Total Duration: 12.34s
Slowest Function: test_func (5.67s)
           INFO     Database connection closed.                                
[22:45:48] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at data\test_kiss_signal.db              
           DEBUG    Enabled WAL mode for concurrent access                     
           DEBUG    Created strategies table                                   
           DEBUG    Created positions table                                    
           DEBUG    Created index on strategies table                          
           DEBUG    Created index on positions table                           
           INFO     Successfully created database at data\test_kiss_signal.db  
[1/4] Configuration loaded.
           INFO     Freeze mode active: 2025-01-01                             
[2/4] Skipping data refresh (freeze mode).
[3/4] Analyzing strategies for each ticker...
[4/4] Analysis complete. Results summary:
No valid strategies found. Check data quality and rule configurations.
[5/5] Generating report...
           INFO     Fetched 0 open positions.                                  
           WARNING  No strategies found for timestamp                          
                    2025-07-06T22:45:48.350232 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: test_reports\signals_2025-01-01.md       
* Report generated: test_reports\signals_2025-01-01.md
           INFO     full_backtest completed in 0.03s                           

Performance Summary:
Total Duration: 0.05s
Slowest Function: full_backtest
           INFO     Database connection closed.                                
[22:45:48] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at data\test_kiss_signal.db              
           INFO     Successfully created database at data\test_kiss_signal.db  
[1/4] Configuration loaded.
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
[4/4] Analysis complete. Results summary:
                      Top Strategies by Edge Score                       
┌──────────┬─────────────────────┬────────────┬───────┬────────┬────────┐
│ Symbol   │ Rule Stack          │ Edge Score │ Win % │ Sharpe │ Trades │
├──────────┼─────────────────────┼────────────┼───────┼────────┼────────┤
│ RELIANCE │ sma_10_20_crossover │      0.500 │ 50.0% │   0.50 │     12 │
└──────────┴─────────────────────┴────────────┴───────┴────────┴────────┘

* Analysis complete. Found 1 valid strategies across 1 symbols.
[5/5] Saving results...
           INFO     Saving 1 strategies to the database.                       
           ERROR    Batch save failed: 'avg_return'                            
⚠️  Failed to save results to database.
           WARNING  Persistence failed but continuing execution.               
[5/5] Generating report...
           INFO     Fetched 0 open positions.                                  
           WARNING  No strategies found for timestamp                          
                    2025-07-06T22:45:48.440193 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: test_reports\signals_2025-07-06.md       
* Report generated: test_reports\signals_2025-07-06.md
           INFO     full_backtest completed in 0.03s                           
           INFO     Database connection closed.                                
[22:45:48] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
Error: Invalid isoformat string for freeze_date: 'invalid-date'
[22:45:48] INFO     === KISS Signal CLI Run Started ===                        
Error loading configuration: [Errno 2] No such file or directory: 
'nonexistent.yaml'
[22:45:48] INFO     === KISS Signal CLI Run Started ===                        
Error loading configuration: Rules file not found: nonexistent_rules.yaml
[22:45:48] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at data\test_kiss_signal.db              
           INFO     Successfully created database at data\test_kiss_signal.db  
[1/4] Configuration loaded.
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
           WARNING  Insufficient data for RELIANCE, skipping                   
           WARNING  Insufficient data for INFY, skipping                       
[4/4] Analysis complete. Results summary:
No valid strategies found. Check data quality and rule configurations.
[5/5] Generating report...
           INFO     Fetched 0 open positions.                                  
           WARNING  No strategies found for timestamp                          
                    2025-07-06T22:45:48.595776 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: test_reports\signals_2025-07-06.md       
* Report generated: test_reports\signals_2025-07-06.md
           INFO     full_backtest completed in 0.03s                           
           INFO     Database connection closed.                                
           INFO     Downloading fresh data for RELIANCE                        
           WARNING  Limited data for RELIANCE: only 3 rows                     
           INFO     Freeze mode active, skipping cache refresh                 
           INFO     Refreshing 1 symbols                                       
           INFO     Successfully refreshed 1/1 symbols                         
           INFO     Refreshing 1 symbols                                       
           ERROR    Failed to fetch data for RELIANCE.NS: 'NoneType' object has
                    no attribute 'empty'                                       
[22:45:49] ERROR    Failed to fetch data for RELIANCE.NS: 'NoneType' object has
                    no attribute 'empty'                                       
[22:45:51] ERROR    Failed to fetch data for RELIANCE.NS: 'NoneType' object has
                    no attribute 'empty'                                       
           WARNING  Failed to fetch or validate data for RELIANCE              
           INFO     Successfully refreshed 0/1 symbols                         
           INFO     Refreshing 1 symbols                                       
           WARNING  Negative prices detected for RELIANCE                      
           WARNING  Failed to fetch or validate data for RELIANCE              
           INFO     Successfully refreshed 0/1 symbols                         
           INFO     Downloading fresh data for TEST                            
           WARNING  No data returned for TEST.NS                               
           ERROR    Missing required columns for TEST.NS: Index(['index',      
                    'open'], dtype='object')                                   
           ERROR    Failed to fetch data for TEST.NS: API Error                
[22:45:54] WARNING  Failed to fetch or validate data for TEST                  
           WARNING  Failed to fetch or validate data for TEST                  
           WARNING  Failed to save cache for TEST                              
           INFO     Refreshing 2 symbols                                       
           INFO     Successfully refreshed 2/2 symbols                         
           INFO     Loaded 2 symbols from universe                             
           ERROR    Universe file not found: nonexistent.csv                   
           WARNING  Negative prices detected for RELIANCE                      
           WARNING  High zero-volume days for RELIANCE                         
[22:45:55] WARNING  Empty data for TEST                                        
           WARNING  Large data gap detected for TEST: 9.0 days                 
           ERROR    Failed to save cache for TEST: Disk full                   
           WARNING  Limited data for RELIANCE: only 5 rows                     
           WARNING  Limited data for RELIANCE: only 5 rows                     
           WARNING  Limited data for RELIANCE: only 3 rows                     
           WARNING  Limited data for TEST: only 10 rows                        
           WARNING  OSError checking cache status for TEST, assuming refresh   
                    needed.                                                    
           INFO     Backtester initialized: hold_period=20, min_trades=5       
           INFO     Using data up to freeze date: 2023-03-31                   
           INFO     Backtesting 2 rule combinations for TEST                   
           INFO     Rule 'sma_crossover' generated 0 signals on 90 data points 
           WARNING  Strategy 'sma_10_20_crossover' on 'TEST' generated only 0  
                    trades, which is below the threshold of 5.                 
           INFO     Rule 'sma_crossover' generated 0 signals on 90 data points 
           INFO     Rule 'rsi_oversold' generated 89 signals on 90 data points 
           WARNING  Strategy 'sma_10_20_crossover + rsi_oversold_30' on 'TEST' 
                    generated only 0 trades, which is below the threshold of 5.
           INFO     find_optimal_strategies completed in 0.07s                 
           INFO     Loaded 2 symbols from universe                             
[22:45:55] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at                                       
                    C:\Users\user\AppData\Local\Temp\pytest-of-user\pytest-645\
                    test_end_to_end_cli_workflow0\integration.db               
           INFO     Successfully created database at                           
                    C:\Users\user\AppData\Local\Temp\pytest-of-user\pytest-645\
                    test_end_to_end_cli_workflow0\integration.db               
[1/4] Configuration loaded.
[2/4] Skipping data refresh (freeze mode).
[3/4] Analyzing strategies for each ticker...
           INFO     Loaded 2 symbols from universe                             
           INFO     Backtester initialized: hold_period=20, min_trades=2       
           INFO     Using data up to freeze date: 2024-06-01                   
           INFO     Backtesting 2 rule combinations for RELIANCE               
           INFO     Rule 'sma_crossover' generated 2 signals on 518 data points
[22:45:56] INFO     Rule 'sma_crossover' generated 2 signals on 518 data points
           INFO     Rule 'rsi_oversold' generated 478 signals on 518 data      
                    points                                                     
           INFO     find_optimal_strategies completed in 1.41s                 
           INFO     Using data up to freeze date: 2024-06-01                   
           INFO     Backtesting 2 rule combinations for INFY                   
           INFO     Rule 'sma_crossover' generated 2 signals on 518 data points
           INFO     Rule 'sma_crossover' generated 2 signals on 518 data points
           INFO     Rule 'rsi_oversold' generated 458 signals on 518 data      
                    points                                                     
           INFO     find_optimal_strategies completed in 0.10s                 
[4/4] Analysis complete. Results summary:
                         Top Strategies by Edge Score                          
┌──────────┬───────────────────────────┬────────────┬───────┬────────┬────────┐
│ Symbol   │ Rule Stack                │ Edge Score │ Win % │ Sharpe │ Trades │
├──────────┼───────────────────────────┼────────────┼───────┼────────┼────────┤
│ INFY     │ sma_10_20_crossover       │      0.105 │  1.0% │   0.25 │      2 │
│ INFY     │ sma_10_20_crossover +     │      0.105 │  1.0% │   0.25 │      2 │
│          │ rsi_oversold_30           │            │       │        │        │
│ RELIANCE │ sma_10_20_crossover       │      0.090 │  1.0% │   0.21 │      2 │
│ RELIANCE │ sma_10_20_crossover +     │      0.090 │  1.0% │   0.21 │      2 │
│          │ rsi_oversold_30           │            │       │        │        │
└──────────┴───────────────────────────┴────────────┴───────┴────────┴────────┘

* Analysis complete. Found 4 valid strategies across 2 symbols.
[5/5] Saving results...
           INFO     Saving 4 strategies to the database.                       
           INFO     Successfully saved 4 strategies                            
           INFO     Saved 4 strategies to the database.                        
[5/5] Generating report...
           INFO     Fetched 0 open positions.                                  
           WARNING  No strategies found for timestamp                          
                    2025-07-06T22:45:56.971342 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated:                                          
                    C:\Users\user\AppData\Local\Temp\pytest-of-user\pytest-645\
                    test_end_to_end_cli_workflow0\reports\signals_2024-06-01.md
* Report generated: 
C:\Users\user\AppData\Local\Temp\pytest-of-user\pytest-645\test_end_to_end_cli_
workflow0\reports\signals_2024-06-01.md
[22:45:57] INFO     full_backtest completed in 1.56s                           
           INFO     Database connection closed.                                
[22:45:57] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
           INFO     Creating database at                                       
                    C:\Users\user\AppData\Local\Temp\pytest-of-user\pytest-645\
                    test_error_handling_integratio0\integration.db             
           INFO     Successfully created database at                           
                    C:\Users\user\AppData\Local\Temp\pytest-of-user\pytest-645\
                    test_error_handling_integratio0\integration.db             
[1/4] Configuration loaded.
[2/4] Skipping data refresh (freeze mode).
[3/4] Analyzing strategies for each ticker...
           INFO     Loaded 2 symbols from universe                             
           INFO     Backtester initialized: hold_period=20, min_trades=2       
           ERROR    Error analyzing RELIANCE: Data fetch failed                
           ERROR    Error analyzing INFY: Data fetch failed                    
[4/4] Analysis complete. Results summary:
No valid strategies found. Check data quality and rule configurations.
[5/5] Generating report...
           INFO     Fetched 0 open positions.                                  
           WARNING  No strategies found for timestamp                          
                    2025-07-06T22:45:57.138779 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated:                                          
                    C:\Users\user\AppData\Local\Temp\pytest-of-user\pytest-645\
                    test_error_handling_integratio0\reports\signals_2024-01-01.
                    md                                                         
* Report generated: 
C:\Users\user\AppData\Local\Temp\pytest-of-user\pytest-645\test_error_handling_
integratio0\reports\signals_2024-01-01.md
           INFO     full_backtest completed in 0.03s                           
           INFO     Database connection closed.                                
