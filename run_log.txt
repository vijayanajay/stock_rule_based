[20:09:32] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
[2/4] Refreshing market data...
           INFO     Loaded 1 symbols from universe                             
           INFO     Refreshing 1 of 1 symbols                                  
[20:09:33] DEBUG    Entering download()                                        
           DEBUG    Disabling multithreading because DEBUG logging enabled     
           DEBUG     Entering history()                                        
           DEBUG    ('CREATE TABLE IF NOT EXISTS "_tz_kv" ("key" VARCHAR(255)  
                    NOT NULL PRIMARY KEY, "value" VARCHAR(255)) WITHOUT ROWID',
                    [])                                                        
           DEBUG    ('SELECT "t1"."key", "t1"."value" FROM "_tz_kv" AS "t1"    
                    WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['RELIANCE.NS',  
                    1, 0])                                                     
           DEBUG      Entering history()                                       
           DEBUG    RELIANCE.NS: Yahoo GET parameters: {'period1': '2022-07-05 
                    00:00:00+05:30', 'period2': '2025-07-04 00:00:00+05:30',   
                    'interval': '1d', 'includePrePost': False, 'events':       
                    'div,splits,capitalGains'}                                 
           DEBUG       Entering get()                                          
           DEBUG        Entering _make_request()                               
           DEBUG    url=https://query2.finance.yahoo.com/v8/finance/chart/RELIA
                    NCE.NS                                                     
           DEBUG    params=frozendict.frozendict({'period1': 1656959400,       
                    'period2': 1751567400, 'interval': '1d', 'includePrePost': 
                    False, 'events': 'div,splits,capitalGains'})               
           DEBUG         Entering _get_cookie_and_crumb()                      
           DEBUG    cookie_mode = 'basic'                                      
           DEBUG          Entering _get_cookie_and_crumb_basic()               
           DEBUG           Entering _get_cookie_basic()                        
           DEBUG            Entering _load_cookie_curlCffi()                   
           DEBUG    ('CREATE TABLE IF NOT EXISTS "_cookieschema" ("strategy"   
                    VARCHAR(255) NOT NULL PRIMARY KEY, "fetch_date" DATETIME   
                    NOT NULL, "cookie_bytes" BLOB NOT NULL) WITHOUT ROWID', [])
           DEBUG    ('SELECT "t1"."strategy", "t1"."fetch_date",               
                    "t1"."cookie_bytes" FROM "_cookieschema" AS "t1" WHERE     
                    ("t1"."strategy" = ?) LIMIT ? OFFSET ?', ['curlCffi', 1,   
                    0])                                                        
           DEBUG            Exiting _load_cookie_curlCffi()                    
           DEBUG    reusing persistent cookie                                  
           DEBUG           Exiting _get_cookie_basic()                         
           DEBUG           Entering _get_crumb_basic()                         
           DEBUG            Entering _get_cookie_basic()                       
           DEBUG    reusing cookie                                             
           DEBUG            Exiting _get_cookie_basic()                        
[20:09:34] DEBUG    crumb = 'wRgs6Bc6knC'                                      
           DEBUG           Exiting _get_crumb_basic()                          
           DEBUG          Exiting _get_cookie_and_crumb_basic()                
           DEBUG         Exiting _get_cookie_and_crumb()                       
           DEBUG    response code=200                                          
           DEBUG        Exiting _make_request()                                
           DEBUG       Exiting get()                                           
           DEBUG    RELIANCE.NS: yfinance received OHLC data: 2022-07-05       
                    03:45:00 -> 2025-07-03 03:45:00                            
           DEBUG    RELIANCE.NS: OHLC after cleaning: 2022-07-05 09:15:00+05:30
                    -> 2025-07-03 09:15:00+05:30                               
           DEBUG    RELIANCE.NS: OHLC after combining events: 2022-07-05       
                    00:00:00+05:30 -> 2025-07-03 00:00:00+05:30                
           DEBUG    RELIANCE.NS: yfinance returning OHLC: 2022-07-05           
                    00:00:00+05:30 -> 2025-07-03 00:00:00+05:30                
           DEBUG      Exiting history()                                        
           DEBUG     Exiting history()                                         
           DEBUG    Exiting download()                                         
           INFO     Successfully refreshed 1/1 symbols                         
[3/4] Analyzing strategies for each ticker...
           INFO     Loaded 1 symbols from universe                             
[4/4] Analysis complete. Results summary:
                      Top Strategies by Edge Score                       
┌──────────┬─────────────────────┬────────────┬───────┬────────┬────────┐
│ Symbol   │ Rule Stack          │ Edge Score │ Win % │ Sharpe │ Trades │
├──────────┼─────────────────────┼────────────┼───────┼────────┼────────┤
│ RELIANCE │ sma_10_20_crossover │      0.750 │ 65.0% │   1.20 │     15 │
└──────────┴─────────────────────┴────────────┴───────┴────────┴────────┘

* Analysis complete. Found 1 valid strategies across 1 symbols.
[5/5] Saving results...
           INFO     Saved 1 strategies to database at data\kiss_signal.db      
[5/5] Generating report...
           ERROR    Failed to fetch open positions: no such table: positions   
           ERROR    Database error fetching strategies: no such table:         
                    strategies                                                 
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: reports\signals_2025-07-04.md            
* Report generated: reports\signals_2025-07-04.md
           INFO     full_backtest completed in 1.87s                           
[20:09:34] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
[2/4] Refreshing market data...
           INFO     Loaded 1 symbols from universe                             
           INFO     Refreshing 1 of 1 symbols                                  
           DEBUG    Entering download()                                        
           DEBUG    Disabling multithreading because DEBUG logging enabled     
           DEBUG     Entering history()                                        
           DEBUG    ('SELECT "t1"."key", "t1"."value" FROM "_tz_kv" AS "t1"    
                    WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['RELIANCE.NS',  
                    1, 0])                                                     
           DEBUG      Entering history()                                       
           DEBUG    RELIANCE.NS: Yahoo GET parameters: {'period1': '2022-07-05 
                    00:00:00+05:30', 'period2': '2025-07-04 00:00:00+05:30',   
                    'interval': '1d', 'includePrePost': False, 'events':       
                    'div,splits,capitalGains'}                                 
           DEBUG    RELIANCE.NS: yfinance received OHLC data: 2022-07-05       
                    03:45:00 -> 2025-07-03 03:45:00                            
           DEBUG    RELIANCE.NS: OHLC after cleaning: 2022-07-05 09:15:00+05:30
                    -> 2025-07-03 09:15:00+05:30                               
           DEBUG    RELIANCE.NS: OHLC after combining events: 2022-07-05       
                    00:00:00+05:30 -> 2025-07-03 00:00:00+05:30                
           DEBUG    RELIANCE.NS: yfinance returning OHLC: 2022-07-05           
                    00:00:00+05:30 -> 2025-07-03 00:00:00+05:30                
           DEBUG      Exiting history()                                        
           DEBUG     Exiting history()                                         
           DEBUG    Exiting download()                                         
           INFO     Successfully refreshed 1/1 symbols                         
[3/4] Analyzing strategies for each ticker...
           INFO     Loaded 1 symbols from universe                             
[4/4] Analysis complete. Results summary:
                      Top Strategies by Edge Score                       
┌──────────┬─────────────────────┬────────────┬───────┬────────┬────────┐
│ Symbol   │ Rule Stack          │ Edge Score │ Win % │ Sharpe │ Trades │
├──────────┼─────────────────────┼────────────┼───────┼────────┼────────┤
│ RELIANCE │ sma_10_20_crossover │      0.750 │ 65.0% │   1.20 │     15 │
└──────────┴─────────────────────┴────────────┴───────┴────────┴────────┘

* Analysis complete. Found 1 valid strategies across 1 symbols.
[5/5] Saving results...
           INFO     Creating database at data\kiss_signal.db                   
           DEBUG    Enabled WAL mode for concurrent access                     
           DEBUG    Created strategies table                                   
           DEBUG    Created positions table                                    
           DEBUG    Created index on strategies table                          
           DEBUG    Created index on positions table                           
           INFO     Successfully created database at data\kiss_signal.db       
⚠️  Database error: disk I/O error
           ERROR    Persistence error: disk I/O error                          
                    Traceback (most recent call last):                         
                      File "D:\Code\stock_rule_based\src\kiss_signal\cli.py",  
                    line 169, in _save_results                                 
                        success = persistence.save_strategies_batch(db_path,   
                    results, run_timestamp)                                    
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                    ^^^^^^^^^^^^^^^^^^^^^                                      
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1139, in __call__                  
                        return self._mock_call(*args, **kwargs)                
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1143, in _mock_call                
                        return self._execute_mock_call(*args, **kwargs)        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^        
                      File                                                     
                    "C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\
                    unittest\mock.py", line 1198, in _execute_mock_call        
                        raise effect                                           
                    sqlite3.OperationalError: disk I/O error                   
[5/5] Generating report...
           INFO     Fetched 0 open positions.                                  
           WARNING  No strategies found for timestamp                          
                    2025-07-04T20:09:34.874843 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: reports\signals_2025-07-04.md            
* Report generated: reports\signals_2025-07-04.md
           INFO     full_backtest completed in 0.13s                           
[20:09:34] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
           INFO     full_backtest completed in 0.00s                           
Error: Backtest failed!
[20:09:34] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
[2/4] Refreshing market data...
           INFO     Refreshing 1 of 1 symbols                                  
           DEBUG    Entering download()                                        
           DEBUG    Disabling multithreading because DEBUG logging enabled     
           DEBUG     Entering history()                                        
           DEBUG    ('SELECT "t1"."key", "t1"."value" FROM "_tz_kv" AS "t1"    
                    WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['RELIANCE.NS',  
                    1, 0])                                                     
           DEBUG      Entering history()                                       
           DEBUG    RELIANCE.NS: Yahoo GET parameters: {'period1': '2022-07-05 
                    00:00:00+05:30', 'period2': '2025-07-04 00:00:00+05:30',   
                    'interval': '1d', 'includePrePost': False, 'events':       
                    'div,splits,capitalGains'}                                 
           DEBUG    RELIANCE.NS: yfinance received OHLC data: 2022-07-05       
                    03:45:00 -> 2025-07-03 03:45:00                            
           DEBUG    RELIANCE.NS: OHLC after cleaning: 2022-07-05 09:15:00+05:30
                    -> 2025-07-03 09:15:00+05:30                               
[20:09:35] DEBUG    RELIANCE.NS: OHLC after combining events: 2022-07-05       
                    00:00:00+05:30 -> 2025-07-03 00:00:00+05:30                
           DEBUG    RELIANCE.NS: yfinance returning OHLC: 2022-07-05           
                    00:00:00+05:30 -> 2025-07-03 00:00:00+05:30                
           DEBUG      Exiting history()                                        
           DEBUG     Exiting history()                                         
           DEBUG    Exiting download()                                         
           INFO     Successfully refreshed 1/1 symbols                         
[3/4] Analyzing strategies for each ticker...
           INFO     full_backtest completed in 0.06s                           
Error: Universe file not found
[20:09:35] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
           INFO     Refreshing market data                                     
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
           INFO     full_backtest completed in 0.00s                           
An unexpected error occurred: Generic backtest error
┌───────────────────── Traceback (most recent call last) ─────────────────────┐
│ D:\Code\stock_rule_based\src\kiss_signal\cli.py:276 in run                  │
│                                                                             │
│   273 │   │   │   # Step 3: Analyze strategies for each ticker              │
│   274 │   │   │   console.print("[3/4] Analyzing strategies for each ticker │
│   275 │   │   │   symbols = data.load_universe(app_config.universe_path)    │
│ > 276 │   │   │   all_results = _run_backtests(app_config, rules_config, sy │
│   277 │   │   │                                                             │
│   278 │   │   │   # Step 4: Display results summary and save                │
│   279 │   │   │   console.print("[4/4] Analysis complete. Results summary:" │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1139 in __call__                                                            │
│                                                                             │
│   1136 │   │   # in the signature                                           │
│   1137 │   │   self._mock_check_sig(*args, **kwargs)                        │
│   1138 │   │   self._increment_mock_call(*args, **kwargs)                   │
│ > 1139 │   │   return self._mock_call(*args, **kwargs)                      │
│   1140 │                                                                    │
│   1141 │                                                                    │
│   1142 │   def _mock_call(self, /, *args, **kwargs):                        │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1143 in _mock_call                                                          │
│                                                                             │
│   1140 │                                                                    │
│   1141 │                                                                    │
│   1142 │   def _mock_call(self, /, *args, **kwargs):                        │
│ > 1143 │   │   return self._execute_mock_call(*args, **kwargs)              │
│   1144 │                                                                    │
│   1145 │   def _increment_mock_call(self, /, *args, **kwargs):              │
│   1146 │   │   self.called = True                                           │
│                                                                             │
│ C:\Users\user\AppData\Local\Programs\Python\Python312\Lib\unittest\mock.py: │
│ 1198 in _execute_mock_call                                                  │
│                                                                             │
│   1195 │   │   effect = self.side_effect                                    │
│   1196 │   │   if effect is not None:                                       │
│   1197 │   │   │   if _is_exception(effect):                                │
│ > 1198 │   │   │   │   raise effect                                         │
│   1199 │   │   │   elif not _callable(effect):                              │
│   1200 │   │   │   │   result = next(effect)                                │
│   1201 │   │   │   │   if _is_exception(result):                            │
└─────────────────────────────────────────────────────────────────────────────┘
Exception: Generic backtest error
[20:09:35] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
[2/4] Refreshing market data...
           INFO     Loaded 1 symbols from universe                             
           INFO     Refreshing 1 of 1 symbols                                  
           DEBUG    Entering download()                                        
           DEBUG    Disabling multithreading because DEBUG logging enabled     
           DEBUG     Entering history()                                        
           DEBUG    ('SELECT "t1"."key", "t1"."value" FROM "_tz_kv" AS "t1"    
                    WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['RELIANCE.NS',  
                    1, 0])                                                     
           DEBUG      Entering history()                                       
           DEBUG    RELIANCE.NS: Yahoo GET parameters: {'period1': '2022-07-05 
                    00:00:00+05:30', 'period2': '2025-07-04 00:00:00+05:30',   
                    'interval': '1d', 'includePrePost': False, 'events':       
                    'div,splits,capitalGains'}                                 
           DEBUG    RELIANCE.NS: yfinance received OHLC data: 2022-07-05       
                    03:45:00 -> 2025-07-03 03:45:00                            
           DEBUG    RELIANCE.NS: OHLC after cleaning: 2022-07-05 09:15:00+05:30
                    -> 2025-07-03 09:15:00+05:30                               
           DEBUG    RELIANCE.NS: OHLC after combining events: 2022-07-05       
                    00:00:00+05:30 -> 2025-07-03 00:00:00+05:30                
           DEBUG    RELIANCE.NS: yfinance returning OHLC: 2022-07-05           
                    00:00:00+05:30 -> 2025-07-03 00:00:00+05:30                
           DEBUG      Exiting history()                                        
           DEBUG     Exiting history()                                         
           DEBUG    Exiting download()                                         
           INFO     Successfully refreshed 1/1 symbols                         
[3/4] Analyzing strategies for each ticker...
           INFO     Loaded 1 symbols from universe                             
[4/4] Analysis complete. Results summary:
No valid strategies found. Check data quality and rule configurations.
[5/5] Generating report...
           ERROR    Failed to fetch open positions: no such table: positions   
           ERROR    Database error fetching strategies: no such table:         
                    strategies                                                 
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: reports\signals_2025-07-04.md            
* Report generated: reports\signals_2025-07-04.md
           INFO     full_backtest completed in 0.08s                           
           INFO     Creating database at                                       
                    C:\Users\user\AppData\Local\Temp\tmpf8w8zsoy\test.db       
           DEBUG    Enabled WAL mode for concurrent access                     
           DEBUG    Created strategies table                                   
           DEBUG    Created positions table                                    
           DEBUG    Created index on strategies table                          
           DEBUG    Created index on positions table                           
           INFO     Successfully created database at                           
                    C:\Users\user\AppData\Local\Temp\tmpf8w8zsoy\test.db       
[20:09:36] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
[4/4] Analysis complete. Results summary:
No valid strategies found. Check data quality and rule configurations.
[5/5] Generating report...
           ERROR    Failed to fetch open positions: no such table: positions   
           ERROR    Database error fetching strategies: no such table:         
                    strategies                                                 
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: reports\signals_2025-07-04.md            
* Report generated: reports\signals_2025-07-04.md
           INFO     full_backtest completed in 0.01s                           
[20:09:36] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
           INFO     Refreshing market data                                     
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
[4/4] Analysis complete. Results summary:
No valid strategies found. Check data quality and rule configurations.
[5/5] Generating report...
           ERROR    Failed to fetch open positions: no such table: positions   
           ERROR    Database error fetching strategies: no such table:         
                    strategies                                                 
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: reports\signals_2025-07-04.md            
* Report generated: reports\signals_2025-07-04.md
           INFO     full_backtest completed in 0.01s                           

Performance Summary:
Total Duration: 0.07s
Slowest Function: find_optimal_strategies
[20:09:36] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
[2/4] Skipping data refresh (freeze mode).
[3/4] Analyzing strategies for each ticker...
[4/4] Analysis complete. Results summary:
No valid strategies found. Check data quality and rule configurations.
[5/5] Generating report...
           ERROR    Failed to fetch open positions: no such table: positions   
           ERROR    Database error fetching strategies: no such table:         
                    strategies                                                 
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: reports\signals_2025-01-01.md            
* Report generated: reports\signals_2025-01-01.md
           INFO     full_backtest completed in 0.01s                           
[20:09:36] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
[2/4] Refreshing market data...
[3/4] Analyzing strategies for each ticker...
[4/4] Analysis complete. Results summary:
                      Top Strategies by Edge Score                       
┌──────────┬─────────────────────┬────────────┬───────┬────────┬────────┐
│ Symbol   │ Rule Stack          │ Edge Score │ Win % │ Sharpe │ Trades │
├──────────┼─────────────────────┼────────────┼───────┼────────┼────────┤
│ RELIANCE │ sma_10_20_crossover │      0.500 │ 50.0% │   0.50 │     12 │
└──────────┴─────────────────────┴────────────┴───────┴────────┴────────┘

* Analysis complete. Found 1 valid strategies across 1 symbols.
[5/5] Saving results...
           INFO     Creating database at data\kiss_signal.db                   
           DEBUG    Enabled WAL mode for concurrent access                     
           DEBUG    Created strategies table                                   
           DEBUG    Created positions table                                    
           DEBUG    Created index on strategies table                          
           DEBUG    Created index on positions table                           
           INFO     Successfully created database at data\kiss_signal.db       
           INFO     Saving 1 strategies to data\kiss_signal.db                 
           DEBUG    Started transaction for batch save                         
           DEBUG    Rolled back transaction due to data error                  
           ERROR    Invalid strategy data: 'avg_return'                        
⚠️  Failed to save results to database.
           WARNING  Persistence failed but continuing execution.               
[5/5] Generating report...
           INFO     Fetched 0 open positions.                                  
           WARNING  No strategies found for timestamp                          
                    2025-07-04T20:09:36.108608 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: reports\signals_2025-07-04.md            
* Report generated: reports\signals_2025-07-04.md
           INFO     full_backtest completed in 0.05s                           
[20:09:36] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
Error: Invalid isoformat string for freeze_date: 'invalid-date'
[20:09:36] INFO     === KISS Signal CLI Run Started ===                        
Error loading configuration: Configuration file not found: nonexistent.yaml
[20:09:36] INFO     === KISS Signal CLI Run Started ===                        
Error loading configuration: Rules file not found: nonexistent_rules.yaml
           INFO     Downloading fresh data for RELIANCE                        
           WARNING  Limited data for RELIANCE: only 3 rows                     
           INFO     Freeze mode active, skipping cache refresh                 
           INFO     Refreshing 1 of 1 symbols                                  
           INFO     Successfully refreshed 1/1 symbols                         
           INFO     Refreshing 1 of 1 symbols                                  
           ERROR    Failed to fetch data for RELIANCE.NS: 'NoneType' object has
                    no attribute 'empty'                                       
[20:09:37] ERROR    Failed to fetch data for RELIANCE.NS: 'NoneType' object has
                    no attribute 'empty'                                       
[20:09:39] ERROR    Failed to fetch data for RELIANCE.NS: 'NoneType' object has
                    no attribute 'empty'                                       
           WARNING  Failed to fetch or validate data for RELIANCE              
           INFO     Successfully refreshed 0/1 symbols                         
           INFO     Refreshing 1 of 1 symbols                                  
           WARNING  Negative prices detected for RELIANCE                      
           WARNING  Failed to fetch or validate data for RELIANCE              
           INFO     Successfully refreshed 0/1 symbols                         
           INFO     Downloading fresh data for TEST                            
           WARNING  No data returned for TEST.NS                               
           ERROR    Missing required columns for TEST.NS: Index(['index',      
                    'open'], dtype='object')                                   
           ERROR    Failed to fetch data for TEST.NS: API Error                
[20:09:42] WARNING  Failed to fetch or validate data for TEST                  
           WARNING  Failed to fetch or validate data for TEST                  
           WARNING  Failed to save cache for TEST                              
           INFO     Refreshing 2 of 2 symbols                                  
           INFO     Successfully refreshed 2/2 symbols                         
           INFO     Loaded 2 symbols from universe                             
           ERROR    Universe file not found: nonexistent.csv                   
           WARNING  Negative prices detected for RELIANCE                      
           WARNING  High zero-volume days for RELIANCE                         
           WARNING  Empty data for TEST                                        
           WARNING  Large data gap detected for TEST: 9.0 days                 
           ERROR    Failed to save cache for TEST: Disk full                   
           DEBUG    Removing unnamed columns from TEST: ['Unnamed: 0']         
           WARNING  Limited data for RELIANCE: only 5 rows                     
           WARNING  Limited data for RELIANCE: only 5 rows                     
           WARNING  Limited data for RELIANCE: only 3 rows                     
           WARNING  Limited data for TEST: only 10 rows                        
           WARNING  OSError checking cache status for TEST, assuming refresh   
                    needed.                                                    
           DEBUG    SMA crossover signals: 0 triggers                          
           DEBUG    RSI confirmation signals: 99 triggers (momentum + recovery)
           DEBUG    EMA crossover signals: 1 triggers                          
           INFO     Backtester initialized: hold_period=20, min_trades=5       
           INFO     Using data up to freeze date: 2023-03-31                   
           INFO     Backtesting 2 rule combinations for TEST                   
           DEBUG    SMA crossover signals: 0 triggers                          
           INFO     Rule 'sma_crossover' generated 0 signals on 90 data points 
           DEBUG    Entry signals for TEST: 0 total                            
           DEBUG    Exit signals for TEST: 0.0 total                           
           DEBUG    Portfolio trades count for TEST: 0                         
           WARNING  Strategy 'sma_10_20_crossover' on 'TEST' generated only 0  
                    trades, which is below the threshold of 5.                 
           DEBUG    SMA crossover signals: 0 triggers                          
           INFO     Rule 'sma_crossover' generated 0 signals on 90 data points 
           DEBUG    RSI confirmation signals: 89 triggers (momentum + recovery)
           INFO     Rule 'rsi_oversold' generated 89 signals on 90 data points 
           DEBUG    Entry signals for TEST: 0 total                            
           DEBUG    Exit signals for TEST: 0.0 total                           
           DEBUG    Portfolio trades count for TEST: 0                         
           WARNING  Strategy 'sma_10_20_crossover + rsi_oversold_30' on 'TEST' 
                    generated only 0 trades, which is below the threshold of 5.
           INFO     find_optimal_strategies completed in 0.06s                 
           INFO     Loaded 2 symbols from universe                             
[20:09:42] INFO     === KISS Signal CLI Run Started ===                        
┌───────────────────────────────── QuickEdge ─────────────────────────────────┐
│ KISS Signal CLI                                                             │
│ Keep-It-Simple Data Foundation                                              │
└─────────────────────────────────────────────────────────────────────────────┘
[1/4] Configuration loaded.
[2/4] Skipping data refresh (freeze mode).
[3/4] Analyzing strategies for each ticker...
           INFO     Loaded 2 symbols from universe                             
           INFO     Backtester initialized: hold_period=20, min_trades=2       
           INFO     Using data up to freeze date: 2024-06-01                   
           DEBUG    Inferred frequency 'D' for RELIANCE                        
           INFO     Backtesting 2 rule combinations for RELIANCE               
           DEBUG    SMA crossover signals: 2 triggers                          
           INFO     Rule 'sma_crossover' generated 2 signals on 518 data points
           DEBUG    Entry signals for RELIANCE: 2 total                        
           DEBUG    Exit signals for RELIANCE: 2.0 total                       
           DEBUG    First 3 entry dates: [Timestamp('2023-09-09 00:00:00'),    
                    Timestamp('2024-05-09 00:00:00')]                          
           DEBUG    Last 3 entry dates: [Timestamp('2023-09-09 00:00:00'),     
                    Timestamp('2024-05-09 00:00:00')]                          
           DEBUG    Portfolio trades count for RELIANCE: 2                     
[20:09:43] DEBUG    SMA crossover signals: 2 triggers                          
           INFO     Rule 'sma_crossover' generated 2 signals on 518 data points
           DEBUG    RSI confirmation signals: 478 triggers (momentum +         
                    recovery)                                                  
           INFO     Rule 'rsi_oversold' generated 478 signals on 518 data      
                    points                                                     
           DEBUG    Entry signals for RELIANCE: 2 total                        
           DEBUG    Exit signals for RELIANCE: 2.0 total                       
           DEBUG    First 3 entry dates: [Timestamp('2023-09-09 00:00:00'),    
                    Timestamp('2024-05-09 00:00:00')]                          
           DEBUG    Last 3 entry dates: [Timestamp('2023-09-09 00:00:00'),     
                    Timestamp('2024-05-09 00:00:00')]                          
           DEBUG    Portfolio trades count for RELIANCE: 2                     
           INFO     find_optimal_strategies completed in 0.99s                 
           INFO     Using data up to freeze date: 2024-06-01                   
           DEBUG    Inferred frequency 'D' for INFY                            
           INFO     Backtesting 2 rule combinations for INFY                   
           DEBUG    SMA crossover signals: 2 triggers                          
           INFO     Rule 'sma_crossover' generated 2 signals on 518 data points
           DEBUG    Entry signals for INFY: 2 total                            
           DEBUG    Exit signals for INFY: 2.0 total                           
           DEBUG    First 3 entry dates: [Timestamp('2023-09-05 00:00:00'),    
                    Timestamp('2024-05-07 00:00:00')]                          
           DEBUG    Last 3 entry dates: [Timestamp('2023-09-05 00:00:00'),     
                    Timestamp('2024-05-07 00:00:00')]                          
           DEBUG    Portfolio trades count for INFY: 2                         
           DEBUG    SMA crossover signals: 2 triggers                          
           INFO     Rule 'sma_crossover' generated 2 signals on 518 data points
           DEBUG    RSI confirmation signals: 458 triggers (momentum +         
                    recovery)                                                  
           INFO     Rule 'rsi_oversold' generated 458 signals on 518 data      
                    points                                                     
           DEBUG    Entry signals for INFY: 2 total                            
           DEBUG    Exit signals for INFY: 2.0 total                           
           DEBUG    First 3 entry dates: [Timestamp('2023-09-05 00:00:00'),    
                    Timestamp('2024-05-07 00:00:00')]                          
           DEBUG    Last 3 entry dates: [Timestamp('2023-09-05 00:00:00'),     
                    Timestamp('2024-05-07 00:00:00')]                          
           DEBUG    Portfolio trades count for INFY: 2                         
           INFO     find_optimal_strategies completed in 0.09s                 
[4/4] Analysis complete. Results summary:
                         Top Strategies by Edge Score                          
┌──────────┬───────────────────────────┬────────────┬───────┬────────┬────────┐
│ Symbol   │ Rule Stack                │ Edge Score │ Win % │ Sharpe │ Trades │
├──────────┼───────────────────────────┼────────────┼───────┼────────┼────────┤
│ INFY     │ sma_10_20_crossover       │      0.105 │  1.0% │   0.25 │      2 │
│ INFY     │ sma_10_20_crossover +     │      0.105 │  1.0% │   0.25 │      2 │
│          │ rsi_oversold_30           │            │       │        │        │
│ RELIANCE │ sma_10_20_crossover       │      0.090 │  1.0% │   0.21 │      2 │
│ RELIANCE │ sma_10_20_crossover +     │      0.090 │  1.0% │   0.21 │      2 │
│          │ rsi_oversold_30           │            │       │        │        │
└──────────┴───────────────────────────┴────────────┴───────┴────────┴────────┘

* Analysis complete. Found 4 valid strategies across 2 symbols.
[5/5] Saving results...
           INFO     Creating database at data\kiss_signal.db                   
           DEBUG    Enabled WAL mode for concurrent access                     
           DEBUG    Created strategies table                                   
           DEBUG    Created positions table                                    
           DEBUG    Created index on strategies table                          
           DEBUG    Created index on positions table                           
           INFO     Successfully created database at data\kiss_signal.db       
           INFO     Saving 4 strategies to data\kiss_signal.db                 
           DEBUG    Started transaction for batch save                         
           INFO     Successfully saved 4 strategies                            
           INFO     Saved 4 strategies to database at data\kiss_signal.db      
[5/5] Generating report...
           INFO     Fetched 1 open positions.                                  
           WARNING  Could not process position for BOSCHLTD: unsupported       
                    operand type(s) for /: 'str' and 'str'                     
           WARNING  No strategies found for timestamp                          
                    2025-07-04T20:09:43.726254 above threshold 0.5             
           INFO     No strategies found above threshold, no signals to generate
           INFO     Report generated: reports\signals_2024-06-01.md            
* Report generated: reports\signals_2024-06-01.md
           INFO     full_backtest completed in 1.24s                           
