# Trading Rules Configuration
# 
# This file defines the technical analysis rules used for signal generation,
# structured as a baseline rule and optional layers to test on top of it.

baseline:
  name: "sma_10_20_crossover"
  type: "sma_crossover"
  description: "Baseline: Buy when 10-day SMA crosses above 20-day SMA"
  params:
    fast_period: 10
    slow_period: 20

layers:
  - name: "rsi_momentum"
    type: "rsi_oversold"
    description: "Layer: Confirm with RSI momentum (RSI > 40 or recovering from oversold)"
    params:
      period: 14
      oversold_threshold: 30.0
  - name: "ema_confirm"
    type: "ema_crossover"
    description: "Layer: Confirm with 12-day EMA crossing above 26-day EMA"
    params:
      fast_period: 12
      slow_period: 26
  - name: "volume_confirmation"
    type: "volume_spike"
    description: "Volume spike with 2x average and 1% price move"
    params:
      period: 20
      spike_multiplier: 2.0
      price_change_threshold: 0.01
  - name: "hammer_reversal"
    type: "hammer_pattern" 
    description: "Hammer/hanging man reversal pattern"
    params:
      body_ratio: 0.3
      shadow_ratio: 2.0
  - name: "bullish_engulfing"
    type: "engulfing_pattern"
    description: "Bullish engulfing pattern"
    params:
      min_body_ratio: 1.2
  - name: "macd_momentum"
    type: "macd_crossover"
    description: "MACD line crosses above signal line" 
    params:
      fast_period: 12
      slow_period: 26
      signal_period: 9
  - name: "bollinger_breakout"
    type: "bollinger_squeeze"
    description: "Breakout after Bollinger Band squeeze"
    params:
      period: 20
      std_dev: 2.0
      squeeze_threshold: 0.1

# Rule validation constraints (for reference)
validation:
  sma_crossover:
    fast_period: {min: 2, max: 50}
    slow_period: {min: 5, max: 200}
  rsi_oversold:
    period: {min: 2, max: 50}
    oversold_threshold: {min: 10, max: 40}
  ema_crossover:
    fast_period: {min: 2, max: 50}
    slow_period: {min: 5, max: 200}
  volume_spike:
    period: {min: 5, max: 50}
    spike_multiplier: {min: 1.5, max: 5.0}
    price_change_threshold: {min: 0.005, max: 0.05}
  hammer_pattern:
    body_ratio: {min: 0.1, max: 0.5}
    shadow_ratio: {min: 1.5, max: 3.0}
  engulfing_pattern:
    min_body_ratio: {min: 1.1, max: 2.0}
  macd_crossover:
    fast_period: {min: 5, max: 20}
    slow_period: {min: 15, max: 50}
    signal_period: {min: 5, max: 15}
  bollinger_squeeze:
    period: {min: 10, max: 50}
    std_dev: {min: 1.0, max: 3.0}
    squeeze_threshold: {min: 0.05, max: 0.2}

